
@{
    Layout = null;
    Sistema_GGYM.Models.Base_De_Datos.USUARIO usuario = new Sistema_GGYM.Models.Base_De_Datos.USUARIO().ObtenerUsuario((Sistema_GGYM.Models.SessionHelper.GetUser()));
}

<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="utf-8">
    <title>GGYM - Contacto</title>
    <link rel="stylesheet" href="~/Source/css/nicepage.css" media="screen">
    <link rel="stylesheet" href="~/Source/css/Casa.css" media="screen">
    <link rel="shortcut icon" href="~/Source/images/ggymlogonormal.png">

    <!-- Estilos vista productos-->
    <link href="~/Source/css/Login/bootstrap.min.css" rel="stylesheet" />
    <link href="~/Source/css/Productos/css/font-awesome.min.css" rel="stylesheet" />
    <link href="~/Source/css/Productos/css/slick-theme.css" rel="stylesheet" />
    <link href="~/Source/css/Productos/css/slick.css" rel="stylesheet" />
    <link href="~/Source/css/Productos/css/style.css" rel="stylesheet" />

    <script class="u-script" type="text/javascript" src="~/Source/js/Login/jquery.js"></script>
    <script class="u-script" type="text/javascript" src="~/Source/js/nicepage.js" defer=""></script>

    <link id="u-theme-google-font" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:100,100i,300,300i,400,400i,500,500i,700,700i,900,900i|Open+Sans:300,300i,400,400i,600,600i,700,700i,800,800i">
    <link id="u-page-google-font" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Archivo+Black:400">

</head>

<body class="u-body">


    <header class="u-clearfix u-header u-header" id="sec-52aa" style="background-color:white;">
        <div class="u-clearfix u-sheet u-valign-middle u-sheet-1">

            <a href="~/Default/Index" class="u-image u-logo u-image-1">
                <img src="~/Source/images/ggymlogonormal.png" class="u-logo-image u-logo-image-1">
            </a>

            <nav class="u-menu u-menu-dropdown u-offcanvas u-menu-1">
                <div class="menu-collapse" style="font-size: 1rem; letter-spacing: 0px;">
                    <a class="u-button-style u-custom-left-right-menu-spacing u-custom-padding-bottom u-custom-top-bottom-menu-spacing u-nav-link u-text-active-palette-1-base u-text-hover-palette-2-base" href="#">
                        <svg><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#menu-hamburger"></use></svg>
                        <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                            <defs>
                                <symbol id="menu-hamburger" viewBox="0 0 16 16" style="width: 16px; height: 16px;">
                                    <rect y="1" width="16" height="2"></rect>
                                    <rect y="7" width="16" height="2"></rect>
                                    <rect y="13" width="16" height="2"></rect>
                                </symbol>
                            </defs>
                        </svg>
                    </a>
                </div>
                <div class="u-nav-container">
                    <ul class="u-nav u-unstyled u-nav-1">

                        <li class="u-nav-item">
                            <a class="u-button-style u-nav-link u-text-active-palette-1-base u-text-hover-palette-2-base" href="~/Default/Index" style="padding: 10px 20px; font-weight:bold">Volver</a>
                        </li>
                        <li class="u-nav-item">
                            <a class="u-button-style u-nav-link u-text-active-palette-1-base u-text-hover-palette-2-base" href="~/Default/Productos" style="padding: 10px 20px; font-weight:bold">Tienda</a>
                        </li>
                        <li class="u-nav-item">
                            <a class="u-button-style u-nav-link u-text-active-palette-1-base u-text-hover-palette-2-base" href="~/Default/ListarCarrito" style="padding: 10px 20px; font-weight:bold">Carrito</a>
                        </li>

                        @if (Sistema_GGYM.Models.SessionHelper.GetUser() == 0)
                        {
                            <li class="u-nav-item">
                                <a class="u-button-style u-nav-link u-text-active-palette-1-base u-text-hover-palette-2-base" href="~/Login/Index" style="padding: 10px 20px; font-weight:bold">Iniciar sesión</a>
                            </li>
                        }

                        @if (Sistema_GGYM.Models.SessionHelper.GetUser() > 0)
                        {
                            if (usuario.ID_TIPOUSUARIO == 4)
                            {
                                <li class="u-nav-item">
                                    <a class="u-button-style u-nav-link u-text-active-palette-1-base u-text-hover-palette-2-base" href="~/Administrador/Index" style="padding: 10px 20px; font-weight:bold">@usuario.NOMBRE @usuario.APELLIDO</a>
                                </li>
                            }
                            else
                            {
                                <li class="u-nav-item">
                                    <a class="u-button-style u-nav-link u-text-active-palette-1-base u-text-hover-palette-2-base" href="~/Usuario/Index" style="padding: 10px 20px; font-weight:bold">@usuario.NOMBRE @usuario.APELLIDO</a>
                                </li>
                            }
                        }



                    </ul>
                </div>
                <div class="u-nav-container-collapse">
                    <div class="u-black u-container-style u-inner-container-layout u-opacity u-opacity-95 u-sidenav">
                        <div class="u-sidenav-overflow">
                            <div class="u-menu-close"></div>
                            <ul class="u-align-center u-nav u-popupmenu-items u-unstyled u-nav-2">

                                <li class="u-nav-item">
                                    <a class="u-button-style u-nav-link" href="~/Default/Productos">Tienda</a>
                                </li>
                                <li class="u-nav-item">
                                    <a class="u-button-style u-nav-link" href="~/Default/AcercaDe">Acerca de</a>
                                </li>
                                <li class="u-nav-item">
                                    <a class="u-button-style u-nav-link" href="~/Default/Contacto">Contacto</a>
                                </li>
                                @if (Sistema_GGYM.Models.SessionHelper.GetUser() == 0)
                                {
                                    <li class="u-nav-item">
                                        <a class="u-button-style u-nav-link" href="~/Login/Index">Iniciar sesión</a>
                                    </li>
                                }

                                @if (Sistema_GGYM.Models.SessionHelper.GetUser() > 0)
                                {
                                    if (usuario.ID_TIPOUSUARIO == 4)
                                    {
                                        <li class="u-nav-item">
                                            <a class="u-button-style u-nav-link" href="~/Administrador/Index">@usuario.NOMBRE @usuario.APELLIDO</a>
                                            <!--A futuro estara una imagen-->
                                        </li>
                                    }
                                    else
                                    {
                                        <li class="u-nav-item">
                                            <a class="u-button-style u-nav-link" href="~/Usuario/Index">@usuario.NOMBRE @usuario.APELLIDO</a>
                                            <!--A futuro estara una imagen-->
                                        </li>
                                    }

                                }

                            </ul>
                        </div>
                    </div>
                    <div class="u-black u-menu-overlay u-opacity u-opacity-70"></div>
                </div>
            </nav>
        </div>
    </header>
    <hr />
    <!-- SECTION -->
    <div class="section">
        <!-- container -->
        <div class="container">
            <!-- row -->
            <div class="row">
                @if (TempData["Carrito"] != null)
                {
                    <h2 style="color:#10c469"> Su carrito contiene:</h2>

                    <table class="table table-responsive">
                        <thead>
                            <tr>
                                <th>Imagen</th>
                                <th>Nombre</th>
                                <th>Precio</th>
                                <th>Cantidad</th>
                                <th>Subtotal</th>
                                <th>Remover</th>
                            </tr>
                        </thead>
                        <tbody>
                            @foreach (var item in TempData["Carrito"] as List<Sistema_GGYM.Models.Carrito>)
                            {
                                <tr>
                                    <td><img src="@item.imagen" height="50" /></td>
                                    <td>@item.productname</td>
                                    <td>S/. @item.precio</td>
                                    <td>@item.cantidad unidades</td>
                                    <td>@item.total soles</td>
                                    <td>
                                        <a class="btn btn-danger btn-sm" href="@Url.Action("Remover", new { id = @item.productid})">&#10000;</a>
                                    </td>
                                </tr>
                            }
                        </tbody>
                        <tfoot>
                            <tr>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td><b>Total</b></td>
                                <td>@TempData["TotalaPagar"] soles</td>
                            </tr>
                        </tfoot>
                    </table>
                }

                else
                {
                    <h2 style="color:#10c469"> Su carrito esta vacio.</h2>
                }
                @if (usuario == null)
                {
                    <h2 style="color:red">Por favor inicie sesión para comprar</h2>
                }
                else
                {
                    if (TempData["Carrito"] != null)
                    {
                        using (Html.BeginForm("GuardarPedido", "Default", FormMethod.Post))
                        {
                            <input type="submit" value="Comprar ahora" class="btn btn-primary" />
                        }
                    }
                }
            </div>
            <!-- /row -->
        </div>
        <!-- /container -->
    </div>
    <!-- /SECTION -->

    <script src="~/Source/css/Productos/js/jquery.min.js"></script>
    <script src="~/Source/css/Productos/js/bootstrap.min.js"></script>
    <script src="~/Source/css/Productos/js/slick.min.js"></script>
    <script src="~/Source/css/Productos/js/nouislider.min.js"></script>
    <script src="~/Source/css/Productos/js/jquery.zoom.min.js"></script>
    <script src="~/Source/css/Productos/js/main.js"></script>

</body>
</html>
